syntax = "proto3";

package Protocol;
import "google/protobuf/timestamp.proto";
option csharp_namespace = "Google.Protobuf.Protocol";

enum MsgId
{
	S_ENTER_GAME = 0;
	S_LEAVE_GAME = 1;
	S_SPAWN = 2;
	S_DESPAWN = 3;
	C_MOVE = 4;
	S_MOVE = 5;
}

enum ObjectState
{
	IDLE = 0;
	MOVING = 1;
	ATTACK = 2;
}

message S_EnterGame
{
	PlayerInfo player = 1;
}

message S_LeaveGame
{
}

message S_Spawn
{
	repeated PlayerInfo players = 1;
}

message S_Despawn
{
	repeated int32 playerIds = 1;
}

message C_Move
{
	SVector3 destination = 1;
}

message S_Move
{
	int32 playerId = 1;
	SVector3 destination = 2;
}

message PlayerInfo
{
	int32 playerId = 1;
	string name = 2;
	ObjectState state = 3;
	SVector3 position = 4;
	SVector3 destination = 5;
}

message SVector3
{
	float x = 1;
	float y = 2;
	float z = 3;
}
