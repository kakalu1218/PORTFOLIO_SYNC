syntax = "proto3";

package Protocol;
import "google/protobuf/timestamp.proto";
option csharp_namespace = "Google.Protobuf.Protocol";

enum MsgId
{
	S_ENTER_GAME = 0;
	S_LEAVE_GAME = 1;
	S_SPAWN = 2;
	S_DESPAWN = 3;
	C_STATE = 4;
	S_STATE = 5;
}

enum ObjectState
{
	IDLE = 0;
	MOVING = 1;
	ATTACK = 2;
	SKILL = 3;
}

message SVector3
{
	float x = 1;
	float y = 2;
	float z = 3;
}

message StateInfo
{
	ObjectState state = 1;
	SVector3 position = 2;
	SVector3 destination = 3;
	int32 targetId = 4;
}

message PlayerInfo
{
	int32 playerId = 1;
	string name = 2;
	StateInfo statInfo = 3;
}

message SkillInfo
{
	int32 skillId = 1;
}

message S_EnterGame
{
	PlayerInfo player = 1;
}

message S_LeaveGame
{
}

message S_Spawn
{
	repeated PlayerInfo players = 1;
}

message S_Despawn
{
	repeated int32 playerIds = 1;
}

message C_State
{
	StateInfo statInfo = 1;
}

message S_State
{
	int32 playerId = 1;
	StateInfo statInfo = 2;
}
